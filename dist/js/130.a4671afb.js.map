{"version":3,"file":"js/130.a4671afb.js","mappings":"iMAUA,cAAeA,EAAAA,EAAAA,IAAgB,CAC3BC,QACI,MAAMC,GAAQC,EAAAA,EAAAA,MACRC,GAAOC,EAAAA,EAAAA,IAAS,CAGlBC,SAAU,GACVC,SAAU,KAES,KAApBL,EAAMM,MAAMC,OACXC,EAAAA,EAAAA,QAAe,SAEnB,MAAMC,EAAKC,UACP,MAAOC,KAAKC,SAAWC,EAAAA,EAAAA,IAASX,GAChCY,QAAQL,IAAIG,GACC,KAAVA,EAAIG,MACHf,EAAMgB,OAAO,WAAWJ,EAAID,KAAKJ,OACjCP,EAAMgB,OAAO,SAASJ,EAAID,KAAKM,KAAKC,IACpClB,EAAMgB,OAAO,cAAcJ,EAAID,KAAKM,KAAKb,WACzCe,EAAAA,EAAAA,IAAU,CACNC,KAAM,UACNC,QAAS,WAGbF,EAAAA,EAAAA,IAAU,CACNC,KAAM,QACNC,QAAS,GAAGT,EAAIS,YAIxBb,EAAAA,EAAAA,QAAe,QAAf,EAEJ,MAAO,uBACK,aADL,uBAEY,OAFZ,+DAIgB,aAJhB,iEAMqB,OANrB,MAMmCN,EAAOE,SAN1C,QAM8DkB,GAAUpB,EAAOE,SAAUkB,EAAEC,OAA4BC,OANvH,8BAQgB,aARhB,gEAUqB,WAVrB,MAUuCtB,EAAOG,SAV9C,QAUkEiB,GAAUpB,EAAOG,SAAUiB,EAAEC,OAA4BC,OAV3H,8BAYgB,WAZhB,oBAaiB,KAbjB,qEAe8B,IAAIf,EAAIP,IAftC,6CAgB8B,KACbM,EAAAA,EAAAA,QAAe,YAAf,GAjBjB,yBAwBV,G","sources":["webpack://vue3_springboot/./src/components/Login.tsx"],"sourcesContent":["import { defineComponent,reactive} from \"vue\";\r\nimport \"../css/index.css\"\r\nimport router from '../router/index'\r\nimport { LoginAPI } from \"@/api/api\";\r\nimport { useStore } from 'vuex'\r\nimport {ElMessage} from 'element-plus'\r\ntype res={\r\n    username: string,\r\n    password: string,\r\n}\r\nexport default defineComponent({\r\n    setup(){\r\n        const store = useStore()\r\n        const result=reactive({\r\n            // username: 'pokerdawn',\r\n            // password: '123456789',\r\n            username: '',\r\n            password: '',\r\n        })\r\n        if(store.state.token!==''){\r\n            router.replace('/home')\r\n        }\r\n        const log= async (result:res):Promise<void>=>{\r\n            const {data:res}=await LoginAPI(result);\r\n            console.log(res);\r\n            if(res.code==200) {\r\n                store.commit('GetToken',res.data.token)\r\n                store.commit(\"GetUid\",res.data.info.id)\r\n                store.commit(\"GetUsername\",res.data.info.username)\r\n                ElMessage({\r\n                    type: \"success\",\r\n                    message: `登录成功`\r\n                })\r\n            }else{\r\n                ElMessage({\r\n                    type: \"error\",\r\n                    message: `${res.message}`\r\n                })\r\n            }\r\n            \r\n            router.replace(\"/home\")\r\n        }\r\n        return ()=>(\r\n            <div id=\"login_box\">\r\n                <div class=\"box\">\r\n                    <h2>Login</h2>\r\n                    <div class=\"input-box\">\r\n                        <label>用户名</label>\r\n                        <input type=\"text\" value={result.username} onInput={(e:Event)=>result.username=(e.target as HTMLInputElement).value} />\r\n                    </div>\r\n                    <div class=\"input-box\">\r\n                        <label>密码</label>\r\n                        <input type=\"password\" value={result.password} onInput={(e:Event)=>result.password=(e.target as HTMLInputElement).value}  />\r\n                    </div>\r\n                    <div class=\"btn-box\">\r\n                        <a href=\"#\">忘记密码?</a>\r\n                        <div>\r\n                            <button onClick={()=>log(result)}>登录</button>\r\n                            <button onClick={()=>{\r\n                                router.replace('/register')\r\n                            }}>注册</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n})"],"names":["defineComponent","setup","store","useStore","result","reactive","username","password","state","token","router","log","async","data","res","LoginAPI","console","code","commit","info","id","ElMessage","type","message","e","target","value"],"sourceRoot":""}